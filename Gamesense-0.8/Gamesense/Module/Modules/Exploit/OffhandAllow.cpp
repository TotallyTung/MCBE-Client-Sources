#include "OffhandAllow.h"

OffhandAllow::OffhandAllow() : IModule(0, Category::EXPLOIT, "Let's you place any item in your offhand") {}

OffhandAllow::~OffhandAllow() {}

const char *OffhandAllow::getRawModuleName()
{
	return ("OffhandExploit");
}

void OffhandAllow::onEnable()
{
	C_LocalPlayer *player = g_Data.getLocalPlayer();
	if (player != nullptr)
	{
		C_Inventory *inv = player->getSupplies()->inventory;
		for (int i = 0; i <= 36; i++)
		{
			C_ItemStack *itemStack = inv->getItemStack(i);
			if (itemStack == nullptr || itemStack->item == nullptr)
				return;
			else
			{
				C_Item *item = itemStack->getItem();
				item->setAllowOffhand();
			}
		}
		return;
	}
}